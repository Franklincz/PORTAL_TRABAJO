@model PORTAL_TRABAJO.Web.ModelsView.CandidatoVM


@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>LoginCandidato</title>

    @*<environment include="Development">
            <link href="~/lib/twitter-bootstrap/css/bootstrap.css" rel="stylesheet" />
        </environment>*@
    <!--<environment exclude="Development">-->
    @*<link href="~/lib/twitter-bootstrap/css/bootstrap.min.css" rel="stylesheet" />*@

    <!--<link rel="stylesheet"
              href="http://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
              asp-fallback-href="~/lib/twitter-bootstrap/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only"
              asp-fallback-test-property="position"
              asp-fallback-test-value="absolute"
              integrity=""
              crossorigin="anonymous">
    </environment>-->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Nombre de tu pagina</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    @*<link rel="stylesheet" href="~/css/bootstrap.min.css" />*@
    <link rel="stylesheet" href="~/css/site.css" />
    <!--aqui va jquery-->
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    @*<script src="~/Scripts/jquery-3.4.1.js"></script>*@
    @*<script src="~/Scripts/jquery.validate.js"></script>*@
    @*<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>*@
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

</head>
<body>

    <div class="container">
        <h4 class="display-4">Login</h4>
        <hr />
        <div class="row">




            <div class="col-md-4">
                <form asp-action="IniciarSesionCandidato" asp--controller="Cuenta" id="form-IniciarSesion">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <label asp-for="Correo" class="control-label"></label>
                        <input asp-for="Correo" class="form-control" />
                        <span asp-validation-for="Correo" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Contraseña" class="control-label"></label>
                        <input asp-for="Contraseña" type="password" class="form-control" />
                        <span asp-validation-for="Contraseña" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Iniciar sesion</button>
                    </div>

                </form>
            </div>

            <div class="col-md-8">

                <img class="img-fluid" src="~/Images/login.png" />
            </div>

        </div>

        <div>
            <a asp-action="LoginAdEmpresa">Eres empresa?</a>







        </div>

    </div>


</body>
</html>

<!---validacion del lado del cliente-->
@*@section Scripts{

        @{
            <partial name="_validationScriptsPartial" />
        }


    }*@


<script>




    $(document).on('submit', '#form-IniciarSesion', function (e) {

        e.preventDefault();
        $.ajax({
            beforeSend: function () {
                $('#IniciarSesionCandidato button[type=submit]').prop('disabled', true);
            },
            type: this.method,
            url: this.action,
            data: $(this).serialize(),//de forma seriaalizada
            success: function (data) {
                alert('Bienvenido a nuestra app !');
                //para reenviar a

                window.location = '/Home';

            },
            error: function (xhr, status) {
                alert("USUARIO O PASSWORD NO VALIDA");
            },
            complete: function () {
                $('#IniciarSesionCandidato button[type=submit]').prop('disabled', false);
            }


        });


    });
</script>
